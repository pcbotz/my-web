<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PC WEB UPDATES</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function searchUpdates() {
            const input = document.getElementById('searchInput').value.toLowerCase();
            const updateItems = document.getElementsByClassName('update-item');
            for (let i = 0; i < updateItems.length; i++) {
                const text = updateItems[i].innerText.toLowerCase();
                updateItems[i].style.display = text.includes(input) ? '' : 'none';
            }
        }
    </script>
</head>
<body>
    <header>
        <h1>PC WEB UPDATES</h1>
    </header>

    <input type="text" id="searchInput" onkeyup="searchUpdates()" placeholder="Search updates...">

    <div class="updates-container">
        {% for update in updates %}
        <div class="update-item">
            <img src="{{ update['photo'] }}" style="max-width: 100%; height: auto;">
            <p>{{ update['text'] }}</p>
            <a href="{{ update['link'] }}">Go to Link</a>
            <form action="{{ url_for('delete_update', update_id=update['_id']) }}" method="post">
                <input type="password" name="password" placeholder="Enter password to delete">
                <button type="submit">Delete</button>
            </form>
        </div>
        {% endfor %}
    </div>
</body>
</html>
